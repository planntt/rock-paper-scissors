<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <h1>Let's play rock paper scissors!</h1>
    <button>Rock</button>
    <button>Paper</button>
    <button>Scissors</button>
    <div id="container"></div>
    <script>
        function getComputerChoice() {
            let choice = Math.floor(Math.random() * 3);
            let answer;
            if (choice === 0) {
                answer = "rock";
            } else if (choice === 1) {
                answer = "paper";
            } else {
                answer = "scissors";
            }
            return answer;
        }

        const container = document.querySelector("#container");

        const result = document.createElement("div");
        result.classList.add("result");

        let wins = 0;
        let losses = 0;
        function playRound(playerSelection, computerSelection) {    
            let playerSelectionCase = playerSelection.toLowerCase();
            if (wins >= 5) {
                result.textContent = `Wow! You won ${wins} times!`;
                container.appendChild(result);
                return
            }

            if (playerSelectionCase === "rock") {
                if (computerSelection === "paper") {
                    losses += 1;
                    result.textContent = `Too bad! Paper beats rock! Wins: ${wins} Losses: ${losses}`;
                    container.appendChild(result);
                } else if (computerSelection === "scissors") {
                    wins += 1;
                    result.textContent = `Congrats! Rock beats scissors! Wins: ${wins} Losses: ${losses}`;
                    container.appendChild(result);
                } else {
                    result.textContent = `It's a tie! Wins: ${wins} Losses: ${losses}`;
                    container.appendChild(result); 
                }  
            } else if (playerSelectionCase === "paper") {
                if (computerSelection === "scissors") {
                    losses += 1;
                    result.textContent = `Too bad! Scissors beats paper! Wins: ${wins} Losses: ${losses}`;
                    container.appendChild(result);
                } else if (computerSelection === "rock") {
                    wins += 1;
                    result.textContent = `Congrats! Paper beats rock! Wins: ${wins} Losses: ${losses}`;
                    container.appendChild(result);
                } else {
                    result.textContent = `It's a tie! Wins: ${wins} Losses: ${losses}`;
                    container.appendChild(result);
                }
            } else if (playerSelectionCase === "scissors") {
                if (computerSelection === "rock") {
                    losses += 1;
                    result.textContent = `Too bad! Rock beats scissors! Wins: ${wins} Losses: ${losses}`;
                    container.appendChild(result);
                } else if (computerSelection === "paper") {
                    wins += 1;
                    result.textContent = `Congrats! Scissors beats paper Wins: ${wins} Losses: ${losses}`;
                    container.appendChild(result);
                } else {
                    result.textContent = `It's a tie! Wins: ${wins} Losses: ${losses}`;
                    container.appendChild(result);
                }
            }
        }

        const buttons = document.querySelectorAll("button");

        buttons.forEach((button) => {
            button.addEventListener("click", () => {
                playRound(button.textContent, getComputerChoice());
            });
        });
    </script>
</body>
</html>